<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Django AdminModel user 对象 | Hexo</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Django AdminModel user 对象</h1><a id="logo" href="/.">Hexo</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Django AdminModel user 对象</h1><div class="post-meta">May 5, 2018</div><div class="post-content"><p>User model</p>
<ol>
<li><p>Fields</p>
<p> class models.User<br> User objects have the following fields:</p>
<ul>
<li><p>username</p>
<p>  Required. 150 characters or fewer. Usernames may contain alphanumeric, _, @, +, . and - characters.<br>  The max_length should be sufficient for many use cases. If you need a longer length, please use a custom user model. If you use MySQL with the utf8mb4 encoding (recommended for proper Unicode support), specify at most max_length=191 because MySQL can only create unique indexes with 191 characters in that case by default.</p>
<blockquote>
<p>Usernames and Unicode<br>  Django originally accepted only ASCII letters and numbers in usernames. Although it wasn’t a deliberate choice, Unicode characters have always been accepted when using Python 3. Django 1.10 officially added Unicode support in usernames, keeping the ASCII-only behavior on Python 2, with the option to customize the behavior using User.username_validator.<br>  Changed in Django 1.10:<br>  The max_length increased from 30 to 150 characters.</p>
</blockquote>
</li>
<li><p>first_name</p>
<p>  Optional (blank=True). 30 characters or fewer.</p>
</li>
<li><p>last_name</p>
<p>  Optional (blank=True). 30 characters or fewer.</p>
</li>
<li><p>email</p>
<p>  Optional (blank=True). Email address.</p>
</li>
<li><p>password</p>
<p>  Required. A hash of, and metadata about, the password. (Django doesn’t store the raw password.) Raw passwords can be arbitrarily long and can contain any character. See the password documentation.</p>
</li>
<li><p>groups</p>
<p>  Many-to-many relationship to Group</p>
</li>
<li><p>user_permissions</p>
<p>  Many-to-many relationship to Permission</p>
</li>
<li><p>is_staff</p>
<p>  Boolean. Designates whether this user can access the admin site.</p>
</li>
<li><p>is_active</p>
<p>  Boolean. Designates whether this user account should be considered active. We recommend that you set this flag to False instead of deleting accounts; that way, if your applications have any foreign keys to users, the foreign keys won’t break.</p>
<blockquote>
<p>This doesn’t necessarily control whether or not the user can log in. Authentication backends aren’t required to check for the is_active flag but the default backend (ModelBackend) and the RemoteUserBackend do. You can use AllowAllUsersModelBackend or AllowAllUsersRemoteUserBackend if you want to allow inactive users to login. In this case, you’ll also want to customize the AuthenticationForm used by the LoginView as it rejects inactive users. Be aware that the permission-checking methods such as has_perm() and the authentication in the Django admin all return False for inactive users.<br>Changed in Django 1.10:<br>   In older versions, ModelBackend and RemoteUserBackend allowed inactive users to authenticate.</p>
</blockquote>
</li>
<li><p>is_superuser</p>
<p>  Boolean. Designates that this user has all permissions without explicitly assigning them.</p>
</li>
<li><p>last_login</p>
<p>  A datetime of the user’s last login.</p>
</li>
<li><p>date_joined</p>
<p>  A datetime designating when the account was created. Is set to the current date/time by default when the account is created.</p>
</li>
</ul>
</li>
<li><p>Attributes</p>
<p> class models.User</p>
<ul>
<li><p>is_authenticated</p>
<p>  Read-only attribute which is always True (as opposed to AnonymousUser.is_authenticated which is always False). This is a way to tell if the user has been authenticated. This does not imply any permissions and doesn’t check if the user is active or has a valid session. Even though normally you will check this attribute on request.user to find out whether it has been populated by the AuthenticationMiddleware (representing the currently logged-in user), you should know this attribute is True for any User instance.</p>
<blockquote>
<p><strong>Changed in Django 1.10:</strong><br>In older versions, this was a method. Backwards-compatibility support for using it as a method will be removed in Django 2.0.<br><strong>Don’t use the is operator for comparisons!</strong><br>To allow the is_authenticated and is_anonymous attributes to also work as methods, the attributes are CallableBool objects. Thus, until the deprecation period ends in Django 2.0, you can’t compare these properties using the is operator. That is, request.user.is_authenticated is True always evaluate to False.</p>
</blockquote>
</li>
<li><p>is_anonymous</p>
<p>  Read-only attribute which is always False. This is a way of differentiating User and AnonymousUser objects. Generally, you should prefer using is_authenticated to this attribute.</p>
<blockquote>
<p><strong>Changed in Django 1.10:</strong><br>In older versions, this was a method. Backwards-compatibility support for using it as a method will be removed in Django 2.0.</p>
</blockquote>
</li>
<li><p>username_validator</p>
<p>  New in Django 1.10.<br>  Points to a validator instance used to validate usernames. Defaults to validators.UnicodeUsernameValidator on Python 3 and validators.ASCIIUsernameValidator on Python 2.<br>  To change the default username validator, you can subclass the User model and set this attribute to a different validator instance. For example, to use ASCII usernames on Python 3:</p>
  <pre><code>
      from django.contrib.auth.models import User
      from django.contrib.auth.validators import ASCIIUsernameValidator

      class CustomUser(User):
          username_validator = ASCIIUsernameValidator()

          class Meta:
              proxy = True  # If no new field is added.
  </code></pre>
</li>
</ul>
</li>
<li><p><strong><em>Methods</em></strong></p>
<p> class <strong>models.User</strong></p>
<ul>
<li><p>get_username()</p>
<p>  Returns the username for the user. Since the User model can be swapped out, you should use this method instead of referencing the username attribute directly.</p>
</li>
<li><p>get_full_name()</p>
<p>  Returns the first_name plus the last_name, with a space in between.</p>
</li>
<li><p>get_short_name()</p>
<p>  Returns the first_name.</p>
</li>
<li><p>set_password(raw_password)</p>
<p>  Sets the user’s password to the given raw string, taking care of the password hashing. Doesn’t save the User object.<br>  When the raw_password is None, the password will be set to an unusable password, as if set_unusable_password() were used.</p>
</li>
<li><p>check_password(raw_password)</p>
<p>  Returns True if the given raw string is the correct password for the user. (This takes care of the password hashing in making the comparison.)</p>
</li>
<li><p>set_unusable_password()</p>
<p>  Marks the user as having no password set. This isn’t the same as having a blank string for a password. check_password() for this user will never return True. Doesn’t save the User object.<br>  You may need this if authentication for your application takes place against an existing external source such as an LDAP directory.</p>
</li>
<li><p>has_usable_password()</p>
<p>  Returns False if set_unusable_password() has been called for this user.</p>
</li>
<li><p>get_group_permissions(obj=None)</p>
<p>  Returns a set of permission strings that the user has, through their groups.<br>  If obj is passed in, only returns the group permissions for this specific object.</p>
</li>
<li><p>get_all_permissions(obj=None)</p>
<p>  Returns a set of permission strings that the user has, both through group and user permissions.</p>
<p>  If obj is passed in, only returns the permissions for this specific object.</p>
</li>
<li><p>has_perm(perm, obj=None)</p>
<p>  Returns True if the user has the specified permission, where perm is in the format “<app label="">.<permission codename="">“. (see documentation on permissions). If the user is inactive, this method will always return False.<br>  If obj is passed in, this method won’t check for a permission for the model, but for this specific object.</permission></app></p>
</li>
<li><p>has_perms(perm_list, obj=None)</p>
<p>  Returns True if the user has each of the specified permissions, where each perm is in the format “<app label="">.<permission codename="">“. If the user is inactive, this method will always return False.<br>  If obj is passed in, this method won’t check for permissions for the model, but for the specific object.</permission></app></p>
</li>
<li><p>has_module_perms(package_name)</p>
<p>  Returns True if the user has any permissions in the given package (the Django app label). If the user is inactive, this method will always return False.</p>
</li>
<li><p>email_user(subject, message, from_email=None, **kwargs)</p>
<p>  Sends an email to the user. If from_email is None, Django uses the DEFAULT_FROM_EMAIL. Any **kwargs are passed to the underlying send_mail() call.</p>
</li>
</ul>
</li>
</ol>
</div><div class="tags"><a href="/tags/Django/">Django</a></div><div class="post-nav"><a class="pre" href="/2018/05/05/pythonstring/">python string 处理</a><a class="next" href="/2018/05/04/20180504djanoadminsave/">Django admin 数据保存时自定义操作</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/Python-string/" style="font-size: 15px;">Python string</a> <a href="/tags/Django/" style="font-size: 15px;">Django</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/05/05/djangoadminreadonly/">Django ModelAdmin 设置只读</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/05/05/pythonstring/">python string 处理</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/05/05/djangoadminmodeluser/">Django AdminModel user 对象</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/05/04/20180504djanoadminsave/">Django admin 数据保存时自定义操作</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/05/04/hello-world/">Hello World</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">Hexo.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/search.js?v=0.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
   search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>